import classNames from "classnames";
import React, { useContext, useState } from "react";
import ThemeContext from "../../styles/theme";
import { Link } from "gatsby";

const Header = () => {
  const { theme, invertTheme } = useContext(ThemeContext);
  const [navIsOpen, setNavIsOpen] = useState(false);

  return (
    <div
      style={{ backgroundColor: "inherit" }}
      className="fixed z-10 w-full shadow"
    >
      <header className="width-full global-padding">
        <div className="relative flex items-center justify-center py-3 md:justify-between">
          <button
            className={classNames(
              theme.color.primaryText,
              theme.color.focusable,
              "absolute left-0 flex items-center md:hidden"
            )}
            onClick={() => setNavIsOpen((navIsOpen) => !navIsOpen)}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              viewBox="0 0 24 24"
              className={"w-6 h-6"}
            >
              <path
                className={classNames({ hidden: navIsOpen })}
                d="M3 12h18M3 6h18M3 18h18"
              />
              <path
                className={classNames({ hidden: !navIsOpen })}
                d="M18 6L6 18M6 6l12 12"
              />
            </svg>
          </button>
          <Link
            to="/"
            className={classNames(
              theme.color.primaryText,
              theme.color.focusable,
              "inline-block p-2 font-serif text-xl font-bold xl:text-2xl"
            )}
          >
            <svg
              width="81"
              height="22"
              stroke="currentColor"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M.16 9.048L9.28 3v2.568L2.488 9.984v.096l6.792 4.416v2.568L.16 11.016V9.048zm13.047 3.072c0-.96.168-1.824.504-2.592a6.165 6.165 0 011.368-1.944c.56-.544 1.2-.952 1.92-1.224a6.142 6.142 0 012.256-.432c.88 0 1.656.144 2.328.432a4.715 4.715 0 012.784 2.904c.24.688.36 1.44.36 2.256 0 .272-.016.528-.048.768a3.99 3.99 0 01-.072.576h-8.568c.096 1.056.512 1.872 1.248 2.448.736.56 1.64.84 2.712.84.608 0 1.176-.08 1.704-.24a9.395 9.395 0 001.608-.72l.936 1.728c-.64.4-1.352.728-2.136.984a7.913 7.913 0 01-2.472.384 7.635 7.635 0 01-2.52-.408 6.088 6.088 0 01-2.04-1.224 5.753 5.753 0 01-1.368-1.92c-.336-.768-.504-1.64-.504-2.616zm8.976-1.128c0-.912-.24-1.624-.72-2.136-.48-.528-1.192-.792-2.136-.792-.8 0-1.512.248-2.136.744-.624.496-1.016 1.224-1.176 2.184h6.168zm5.894-9.936h2.784v4.368l-.096 2.064a5.86 5.86 0 011.728-1.128 4.645 4.645 0 011.92-.432c.768 0 1.448.144 2.04.432a4.065 4.065 0 011.512 1.2c.416.512.728 1.136.936 1.872.224.736.336 1.56.336 2.472 0 1.008-.144 1.912-.432 2.712-.288.784-.68 1.448-1.176 1.992-.48.544-1.04.96-1.68 1.248a4.589 4.589 0 01-1.944.432c-.56 0-1.144-.136-1.752-.408a5.615 5.615 0 01-1.68-1.176h-.072L30.261 18h-2.184V1.056zm2.784 13.872c.432.4.88.68 1.344.84.464.16.88.24 1.248.24.832 0 1.528-.336 2.088-1.008.56-.688.84-1.704.84-3.048 0-1.184-.216-2.104-.648-2.76-.432-.656-1.128-.984-2.088-.984a3.13 3.13 0 00-1.368.336c-.464.224-.936.584-1.416 1.08v5.304zM42.204 1.056h6.48v12.792c0 .8.2 1.368.6 1.704.4.32.904.48 1.512.48.576 0 1.248-.152 2.016-.456l.648 2.04a21.37 21.37 0 01-1.584.48c-.48.128-1.064.192-1.752.192-1.392 0-2.44-.4-3.144-1.2-.704-.8-1.056-1.928-1.056-3.384V3.24h-3.72V1.056zM59.331 21.84h-2.376L64.85.96h2.376L59.33 21.84zm21.518-10.824l-9.12 6.048v-2.568l6.792-4.416v-.096L71.73 5.568V3l9.12 6.048v1.968z" />
            </svg>
          </Link>
          <nav className="items-center hidden space-x-16 text-sm font-semibold md:flex xl:text-base">
            <a href="#resume" className={classNames(theme.color.focusable)}>
              Resume
            </a>
            <a href="#projects" className={classNames(theme.color.focusable)}>
              Projects
            </a>
            <a href="#contact" className={classNames(theme.color.focusable)}>
              Contact
            </a>
          </nav>
          <button onClick={() => invertTheme()}>
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M10 2C10.2652 2 10.5196 2.10536 10.7071 2.29289C10.8946 2.48043 11 2.73478 11 3V4C11 4.26522 10.8946 4.51957 10.7071 4.70711C10.5196 4.89464 10.2652 5 10 5C9.73478 5 9.48043 4.89464 9.29289 4.70711C9.10536 4.51957 9 4.26522 9 4V3C9 2.73478 9.10536 2.48043 9.29289 2.29289C9.48043 2.10536 9.73478 2 10 2ZM14 10C14 11.0609 13.5786 12.0783 12.8284 12.8284C12.0783 13.5786 11.0609 14 10 14C8.93913 14 7.92172 13.5786 7.17157 12.8284C6.42143 12.0783 6 11.0609 6 10C6 8.93913 6.42143 7.92172 7.17157 7.17157C7.92172 6.42143 8.93913 6 10 6C11.0609 6 12.0783 6.42143 12.8284 7.17157C13.5786 7.92172 14 8.93913 14 10ZM13.536 14.95L14.243 15.657C14.4316 15.8392 14.6842 15.94 14.9464 15.9377C15.2086 15.9354 15.4594 15.8302 15.6448 15.6448C15.8302 15.4594 15.9354 15.2086 15.9377 14.9464C15.94 14.6842 15.8392 14.4316 15.657 14.243L14.95 13.536C14.7614 13.3538 14.5088 13.253 14.2466 13.2553C13.9844 13.2576 13.7336 13.3628 13.5482 13.5482C13.3628 13.7336 13.2576 13.9844 13.2553 14.2466C13.253 14.5088 13.3538 14.7614 13.536 14.95ZM15.656 4.343C15.8435 4.53053 15.9488 4.78484 15.9488 5.05C15.9488 5.31516 15.8435 5.56947 15.656 5.757L14.95 6.464C14.8578 6.55951 14.7474 6.63569 14.6254 6.6881C14.5034 6.74051 14.3722 6.7681 14.2394 6.76925C14.1066 6.7704 13.9749 6.7451 13.852 6.69482C13.7291 6.64454 13.6175 6.57029 13.5236 6.4764C13.4297 6.3825 13.3555 6.27085 13.3052 6.14795C13.2549 6.02506 13.2296 5.89338 13.2307 5.7606C13.2319 5.62782 13.2595 5.4966 13.3119 5.3746C13.3643 5.25259 13.4405 5.14225 13.536 5.05L14.243 4.343C14.4305 4.15553 14.6848 4.05021 14.95 4.05021C15.2152 4.05021 15.4695 4.15553 15.657 4.343H15.656ZM17 11C17.2652 11 17.5196 10.8946 17.7071 10.7071C17.8946 10.5196 18 10.2652 18 10C18 9.73478 17.8946 9.48043 17.7071 9.29289C17.5196 9.10536 17.2652 9 17 9H16C15.7348 9 15.4804 9.10536 15.2929 9.29289C15.1054 9.48043 15 9.73478 15 10C15 10.2652 15.1054 10.5196 15.2929 10.7071C15.4804 10.8946 15.7348 11 16 11H17ZM10 15C10.2652 15 10.5196 15.1054 10.7071 15.2929C10.8946 15.4804 11 15.7348 11 16V17C11 17.2652 10.8946 17.5196 10.7071 17.7071C10.5196 17.8946 10.2652 18 10 18C9.73478 18 9.48043 17.8946 9.29289 17.7071C9.10536 17.5196 9 17.2652 9 17V16C9 15.7348 9.10536 15.4804 9.29289 15.2929C9.48043 15.1054 9.73478 15 10 15ZM5.05 6.464C5.14284 6.55691 5.25308 6.63062 5.37441 6.68093C5.49574 6.73124 5.6258 6.75716 5.75715 6.7572C5.88849 6.75725 6.01857 6.73142 6.13993 6.6812C6.2613 6.63098 6.37159 6.55734 6.4645 6.4645C6.55741 6.37166 6.63112 6.26142 6.68143 6.14009C6.73174 6.01876 6.75766 5.8887 6.7577 5.75735C6.75775 5.62601 6.73192 5.49593 6.6817 5.37457C6.63148 5.2532 6.55784 5.14291 6.465 5.05L5.757 4.343C5.5684 4.16084 5.3158 4.06005 5.0536 4.06233C4.7914 4.0646 4.54059 4.16977 4.35518 4.35518C4.16977 4.54059 4.0646 4.7914 4.06233 5.0536C4.06005 5.3158 4.16084 5.5684 4.343 5.757L5.05 6.464ZM6.464 14.95L5.757 15.657C5.5684 15.8392 5.3158 15.94 5.0536 15.9377C4.7914 15.9354 4.54059 15.8302 4.35518 15.6448C4.16977 15.4594 4.0646 15.2086 4.06233 14.9464C4.06005 14.6842 4.16084 14.4316 4.343 14.243L5.05 13.536C5.2386 13.3538 5.4912 13.253 5.7534 13.2553C6.0156 13.2576 6.26641 13.3628 6.45182 13.5482C6.63723 13.7336 6.7424 13.9844 6.74467 14.2466C6.74695 14.5088 6.64616 14.7614 6.464 14.95ZM4 11C4.26522 11 4.51957 10.8946 4.70711 10.7071C4.89464 10.5196 5 10.2652 5 10C5 9.73478 4.89464 9.48043 4.70711 9.29289C4.51957 9.10536 4.26522 9 4 9H3C2.73478 9 2.48043 9.10536 2.29289 9.29289C2.10536 9.48043 2 9.73478 2 10C2 10.2652 2.10536 10.5196 2.29289 10.7071C2.48043 10.8946 2.73478 11 3 11H4Z"
                fill="black"
              />
            </svg>
          </button>
        </div>
        <nav
          className={classNames(
            { hidden: !navIsOpen },
            "text-sm font-semibold text-center space-y-1 pb-2"
          )}
        >
          <a
            href="#resume"
            className={classNames(
              "block py-4 rounded-lg",
              theme.color.focusable
            )}
          >
            Resume
          </a>
          <a
            href="#projects"
            className={classNames(
              "block py-4 rounded-lg",
              theme.color.focusable
            )}
          >
            Projects
          </a>
          <a
            href="#contact"
            className={classNames(
              "block py-4 rounded-lg",
              theme.color.focusable
            )}
          >
            Contact
          </a>
        </nav>
      </header>
    </div>
  );
};

export default Header;
